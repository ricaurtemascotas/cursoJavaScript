<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso de JavaScript - Bloques Temáticos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #0ea5e9;
            --primary-dark: #0284c7;
            --secondary-color: #8b5cf6;
            --dark-bg: #0f172a;
            --darker-bg: #020617;
            --card-bg: #1e293b;
            --text-color: #f1f5f9;
            --text-secondary: #94a3b8;
            --border-color: #334155;
            --success-color: #10b981;
            --warning-color: #f59e0b;
        }

        body {
            background-color: var(--darker-bg);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(14, 165, 233, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 20%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 20px;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--border-color);
            position: relative;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(14, 165, 233, 0.2);
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .header-desc {
            max-width: 800px;
            margin: 0 auto;
            color: var(--text-secondary);
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .progress-container {
            max-width: 800px;
            margin: 30px auto;
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .progress-bar {
            height: 12px;
            background-color: #334155;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 6px;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        .blocks-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .block-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .block-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .block-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
        }

        .block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .block-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .day-counter {
            background-color: var(--dark-bg);
            color: var(--text-color);
            border-radius: 8px;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1rem;
            border: 2px solid var(--primary-color);
        }

        .checklist {
            list-style-type: none;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px dashed var(--border-color);
        }

        .checklist-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .checkbox-container {
            position: relative;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .custom-checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid var(--border-color);
            border-radius: 4px;
            display: inline-block;
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .custom-checkbox:hover {
            border-color: var(--primary-color);
        }

        .custom-checkbox.checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .custom-checkbox.checked::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .item-text {
            flex-grow: 1;
            color: var(--text-color);
            transition: color 0.3s ease;
        }

        .item-text.completed {
            color: var(--text-secondary);
            text-decoration: line-through;
        }

        .block-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .btn {
            background: linear-gradient(to right, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(14, 165, 233, 0.4);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background-color: rgba(14, 165, 233, 0.1);
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .tech-icon {
            color: var(--primary-color);
            margin-right: 5px;
        }

        .total-stats {
            display: flex;
            justify-content: space-around;
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid var(--border-color);
        }

        .stat-box {
            text-align: center;
        }

        .stat-number {
            font-size: 2.2rem;
            font-weight: bold;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .block-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 15px;
            font-style: italic;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .blocks-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
            }
            
            .total-stats {
                flex-direction: column;
                gap: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-code tech-icon"></i> Curso Completo de JavaScript</h1>
            <p class="subtitle">Organizado por bloques temáticos - Estudia a tu ritmo</p>
            <p class="header-desc">
                Este curso está organizado en bloques temáticos. Cada bloque representa un día de estudio,
                enfocándote en conceptos relacionados. Avanza a tu propio ritmo, marcando cada lección
                completada.
            </p>
        </header>

        <div class="progress-container">
            <div class="progress-info">
                <span>Progreso total del curso</span>
                <span id="progress-percentage">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-bar"></div>
            </div>
            <div class="controls">
                <button id="reset-btn" class="btn btn-outline">
                    <i class="fas fa-redo"></i> Reiniciar Progreso
                </button>
                <button id="save-btn" class="btn">
                    <i class="fas fa-save"></i> Guardar Progreso
                </button>
            </div>
        </div>

        <div class="total-stats">
            <div class="stat-box">
                <div class="stat-number" id="total-completed">0</div>
                <div class="stat-label">Lecciones completadas</div>
            </div>
            <div class="stat-box">
                <div class="stat-number" id="total-lessons">86</div>
                <div class="stat-label">Total de lecciones</div>
            </div>
            <div class="stat-box">
                <div class="stat-number" id="blocks-completed">0</div>
                <div class="stat-label">Bloques completados</div>
            </div>
        </div>

        <div class="blocks-container" id="blocks-container">
            <!-- Los bloques se generarán dinámicamente con JavaScript -->
        </div>

        <div class="footer">
            <p>Curso organizado por bloques temáticos | 
                <i class="fas fa-laptop-code tech-icon"></i> Diseño tecnológico con temática oscura
            </p>
            <p style="margin-top: 10px;">Tu progreso se guarda automáticamente en tu navegador</p>
        </div>
    </div>

    <script>
        // Datos del curso organizados por bloques temáticos
        const courseData = [
            {
                id: 1,
                title: "Bloque 1: Introducción a JavaScript",
                description: "Conceptos básicos y entorno de desarrollo",
                day: 1,
                topics: [
                    "Una introducción a JavaScript",
                    "Manuales y especificaciones",
                    "Editores de Código",
                    "Consola de desarrollador"
                ]
            },
            {
                id: 2,
                title: "Bloque 2: Fundamentos del Lenguaje",
                description: "Sintaxis básica, variables y tipos de datos",
                day: 2,
                topics: [
                    "¡Hola, mundo!",
                    "Estructura del código",
                    "El modo moderno, 'use strict'",
                    "Variables",
                    "Tipos de datos",
                    "Interacción: alert, prompt, confirm",
                    "Conversiones de Tipos"
                ]
            },
            {
                id: 3,
                title: "Bloque 3: Operadores y Control de Flujo",
                description: "Operadores matemáticos y estructuras de control",
                day: 3,
                topics: [
                    "Operadores básicos, matemáticas",
                    "Comparaciones",
                    "Ejecución condicional: if, '?'",
                    "Operadores Lógicos",
                    "Operador Nullish Coalescing '??'",
                    "Bucles: while y for",
                    "La sentencia 'switch'"
                ]
            },
            {
                id: 4,
                title: "Bloque 4: Funciones Básicas",
                description: "Fundamentos de funciones en JavaScript",
                day: 4,
                topics: [
                    "Funciones",
                    "Expresiones de función",
                    "Funciones Flecha, lo básico"
                ]
            },
            {
                id: 5,
                title: "Bloque 5: Calidad del Código",
                description: "Buenas prácticas y herramientas de desarrollo",
                day: 5,
                topics: [
                    "Calidad del código",
                    "Debugging en el navegador",
                    "Estilo de codificación",
                    "Comentarios",
                    "Código ninja",
                    "Automatización de pruebas con Mocha",
                    "Polyfills y transpiladores"
                ]
            },
            {
                id: 6,
                title: "Bloque 6: Objetos y Propiedades",
                description: "Fundamentos de objetos y su manipulación",
                day: 6,
                topics: [
                    "Objetos: lo básico",
                    "Referencias de objetos y copia",
                    "Recolección de basura",
                    "Métodos de objeto, 'this'",
                    "Constructor, operador 'new'",
                    "Encadenamiento opcional '?.'",
                    "Tipo Symbol",
                    "Conversión de objeto a valor primitivo"
                ]
            },
            {
                id: 7,
                title: "Bloque 7: Tipos de Datos y Métodos",
                description: "Tipos de datos primitivos y sus métodos",
                day: 7,
                topics: [
                    "Métodos en tipos primitivos",
                    "Números",
                    "Strings",
                    "Arrays",
                    "Métodos de arrays"
                ]
            },
            {
                id: 8,
                title: "Bloque 8: Estructuras de Datos Avanzadas",
                description: "Colecciones y estructuras de datos complejas",
                day: 8,
                topics: [
                    "Iterables",
                    "Map y Set",
                    "WeakMap y WeakSet",
                    "Object.keys, values, entries",
                    "Asignación desestructurante",
                    "Fecha y Hora",
                    "Métodos JSON, toJSON"
                ]
            },
            {
                id: 9,
                title: "Bloque 9: Funciones Avanzadas",
                description: "Funciones complejas y programación funcional",
                day: 9,
                topics: [
                    "Recursión y pila",
                    "Parámetros Rest y operador Spread",
                    "Ámbito de Variable y el concepto 'closure'",
                    "La vieja 'var'",
                    "Objeto Global",
                    "Función como objeto, NFE",
                    "La sintaxis 'new Function'",
                    "Planificación: setTimeout y setInterval",
                    "Decoradores y redirecciones, call/apply",
                    "Función bind: vinculación de funciones",
                    "Funciones de flecha revisadas"
                ]
            },
            {
                id: 10,
                title: "Bloque 10: Objetos Avanzados",
                description: "Propiedades avanzadas de objetos",
                day: 10,
                topics: [
                    "Configuración de las propiedades de objetos",
                    "Indicadores y descriptores de propiedad",
                    "'Getters' y 'setters' de propiedad"
                ]
            },
            {
                id: 11,
                title: "Bloque 11: Prototipos y Herencia",
                description: "Sistema de prototipos y herencia en JavaScript",
                day: 11,
                topics: [
                    "Prototipos y herencia",
                    "Herencia prototípica",
                    "F.prototype",
                    "Prototipos nativos",
                    "Métodos prototipo, objetos sin __proto__"
                ]
            },
            {
                id: 12,
                title: "Bloque 12: Clases ES6",
                description: "Sintaxis moderna de clases en JavaScript",
                day: 12,
                topics: [
                    "Sintaxis básica de `class`",
                    "Herencia de clase",
                    "Propiedades y métodos estáticos",
                    "Propiedades y métodos privados y protegidos",
                    "Ampliación de clases nativas",
                    "Comprobación de clase: 'instanceof'",
                    "Los Mixins"
                ]
            },
            {
                id: 13,
                title: "Bloque 13: Manejo de Errores",
                description: "Control y manejo de errores en JavaScript",
                day: 13,
                topics: [
                    "Manejo de errores, 'try...catch'",
                    "Errores personalizados, extendiendo Error"
                ]
            },
            {
                id: 14,
                title: "Bloque 14: Promesas y Async/Await",
                description: "Programación asíncrona moderna",
                day: 14,
                topics: [
                    "Introducción: callbacks",
                    "Promesa",
                    "Encadenamiento de promesas",
                    "Manejo de errores con promesas",
                    "Promise API",
                    "Promisificación",
                    "Microtareas (Microtasks)",
                    "Async/await"
                ]
            },
            {
                id: 15,
                title: "Bloque 15: Generadores y Módulos",
                description: "Generadores y sistema de módulos",
                day: 15,
                topics: [
                    "Generadores",
                    "Iteradores y generadores asíncronos",
                    "Módulos, introducción",
                    "Export e Import",
                    "Importaciones dinámicas"
                ]
            },
            {
                id: 16,
                title: "Bloque 16: Temas Diversos",
                description: "Características avanzadas y especializadas",
                day: 16,
                topics: [
                    "Proxy y Reflect",
                    "Eval: ejecutando una cadena de código",
                    "Currificación",
                    "Tipo de Referencia",
                    "BigInt",
                    "Unicode, String internals",
                    "WeakRef y FinalizationRegistry"
                ]
            },
            {
                id: 17,
                title: "Bloque 17: DOM y Navegador",
                description: "Interacción con el navegador y el DOM",
                day: 17,
                topics: [
                    "Entorno del navegador, especificaciones",
                    "Árbol del Modelo de Objetos del Documento (DOM)",
                    "Recorriendo el DOM",
                    "Buscar: getElement*, querySelector*",
                    "Propiedades del nodo: tipo, etiqueta y contenido",
                    "Atributos y propiedades",
                    "Modificando el documento",
                    "Estilos y clases",
                    "Tamaño de elementos y desplazamiento",
                    "Tamaño de ventana y desplazamiento",
                    "Coordenadas"
                ]
            },
            {
                id: 18,
                title: "Bloque 18: Eventos en el Navegador",
                description: "Manejo de eventos y interacción del usuario",
                day: 18,
                topics: [
                    "Introducción a los eventos en el navegador",
                    "Propagación y captura",
                    "Delegación de eventos",
                    "Acciones predeterminadas del navegador",
                    "Envío de eventos personalizados",
                    "Eventos del Mouse",
                    "Moviendo el mouse: mouseover/out, mouseenter/leave",
                    "Arrastrar y Soltar con eventos del ratón",
                    "Eventos de puntero",
                    "Teclado: keydown y keyup",
                    "Desplazamiento"
                ]
            },
            {
                id: 19,
                title: "Bloque 19: Formularios y Recursos",
                description: "Manejo de formularios y carga de recursos",
                day: 19,
                topics: [
                    "Propiedades y Métodos de Formularios",
                    "Enfocado: enfoque/desenfoque",
                    "Eventos: change, input, cut, copy, paste",
                    "Formularios: evento y método submit",
                    "Página: DOMContentLoaded, load, beforeunload, unload",
                    "Scripts: async, defer",
                    "Carga de recursos: onload y onerror"
                ]
            },
            {
                id: 20,
                title: "Bloque 20: Temas Avanzados del Navegador",
                description: "Funcionalidades avanzadas del entorno web",
                day: 20,
                topics: [
                    "Mutation observer",
                    "Selection y Range",
                    "Loop de eventos: microtareas y macrotareas"
                ]
            }
        ];

        // Estado del progreso
        let progressState = {
            totalLessons: 0,
            completedLessons: 0,
            blocks: []
        };

        // Inicializar el estado
        function initializeProgressState() {
            // Calcular el total de lecciones
            let totalLessons = 0;
            courseData.forEach(block => {
                totalLessons += block.topics.length;
                progressState.blocks[block.id] = {
                    total: block.topics.length,
                    completed: 0,
                    topics: Array(block.topics.length).fill(false)
                };
            });
            
            progressState.totalLessons = totalLessons;
            
            // Cargar el estado guardado desde localStorage
            const savedState = localStorage.getItem('jsCourseProgress');
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                progressState.completedLessons = parsedState.completedLessons || 0;
                progressState.blocks = parsedState.blocks || progressState.blocks;
            }
        }

        // Renderizar los bloques
        function renderBlocks() {
            const container = document.getElementById('blocks-container');
            container.innerHTML = '';
            
            courseData.forEach(blockData => {
                const blockElement = document.createElement('div');
                blockElement.className = 'block-card';
                
                const blockState = progressState.blocks[blockData.id];
                const completedCount = blockState ? blockState.completed : 0;
                
                blockElement.innerHTML = `
                    <div class="block-header">
                        <h3 class="block-title">${blockData.title}</h3>
                        <div class="day-counter">Día ${blockData.day}</div>
                    </div>
                    <p class="block-description">${blockData.description}</p>
                    <ul class="checklist">
                        ${blockData.topics.map((topic, index) => {
                            const isChecked = blockState && blockState.topics[index];
                            return `
                                <li class="checklist-item">
                                    <div class="checkbox-container">
                                        <div class="custom-checkbox ${isChecked ? 'checked' : ''}" 
                                             data-block="${blockData.id}" 
                                             data-index="${index}"></div>
                                    </div>
                                    <span class="item-text ${isChecked ? 'completed' : ''}">
                                        ${topic}
                                    </span>
                                </li>
                            `;
                        }).join('')}
                    </ul>
                    <div class="block-stats">
                        <span>${completedCount}/${blockData.topics.length} completadas</span>
                        <span>${blockData.topics.length} lecciones</span>
                    </div>
                `;
                
                container.appendChild(blockElement);
            });
            
            // Añadir event listeners a los checkboxes
            document.querySelectorAll('.custom-checkbox').forEach(checkbox => {
                checkbox.addEventListener('click', toggleCheckbox);
            });
            
            updateProgress();
        }

        // Alternar estado del checkbox
        function toggleCheckbox(event) {
            const checkbox = event.target;
            const blockId = parseInt(checkbox.getAttribute('data-block'));
            const index = parseInt(checkbox.getAttribute('data-index'));
            
            // Toggle del estado
            const isChecked = checkbox.classList.toggle('checked');
            
            // Actualizar estado en progressState
            progressState.blocks[blockId].topics[index] = isChecked;
            
            // Actualizar contadores
            const blockState = progressState.blocks[blockId];
            blockState.completed = blockState.topics.filter(topic => topic).length;
            
            // Actualizar contador total
            progressState.completedLessons = 0;
            progressState.blocks.forEach(block => {
                if (block) {
                    progressState.completedLessons += block.completed;
                }
            });
            
            // Actualizar UI
            const itemText = checkbox.closest('.checklist-item').querySelector('.item-text');
            itemText.classList.toggle('completed', isChecked);
            
            const blockStats = checkbox.closest('.block-card').querySelector('.block-stats span:first-child');
            blockStats.textContent = `${blockState.completed}/${blockState.total} completadas`;
            
            updateProgress();
            saveProgress();
        }

        // Actualizar el progreso general
        function updateProgress() {
            // Actualizar barra de progreso
            const progressPercentage = progressState.totalLessons > 0 
                ? Math.round((progressState.completedLessons / progressState.totalLessons) * 100) 
                : 0;
            
            document.getElementById('progress-bar').style.width = `${progressPercentage}%`;
            document.getElementById('progress-percentage').textContent = `${progressPercentage}%`;
            
            // Actualizar estadísticas
            document.getElementById('total-completed').textContent = progressState.completedLessons;
            
            // Calcular bloques completados (bloques con todas las lecciones completadas)
            let blocksCompleted = 0;
            courseData.forEach(blockData => {
                const blockState = progressState.blocks[blockData.id];
                if (blockState && blockState.completed === blockState.total) {
                    blocksCompleted++;
                }
            });
            
            document.getElementById('blocks-completed').textContent = blocksCompleted;
            document.getElementById('total-lessons').textContent = progressState.totalLessons;
        }

        // Guardar progreso en localStorage
        function saveProgress() {
            localStorage.setItem('jsCourseProgress', JSON.stringify(progressState));
            
            // Mostrar notificación de guardado
            const saveBtn = document.getElementById('save-btn');
            const originalText = saveBtn.innerHTML;
            saveBtn.innerHTML = '<i class="fas fa-check"></i> Guardado';
            saveBtn.style.background = 'linear-gradient(to right, #10b981, #059669)';
            
            setTimeout(() => {
                saveBtn.innerHTML = originalText;
                saveBtn.style.background = 'linear-gradient(to right, var(--primary-color), var(--primary-dark))';
            }, 1500);
        }

        // Reiniciar progreso
        function resetProgress() {
            if (confirm('¿Estás seguro de que quieres reiniciar todo tu progreso? Esta acción no se puede deshacer.')) {
                localStorage.removeItem('jsCourseProgress');
                initializeProgressState();
                renderBlocks();
            }
        }

        // Inicializar la aplicación
        function initApp() {
            initializeProgressState();
            renderBlocks();
            
            // Añadir event listeners a los botones
            document.getElementById('reset-btn').addEventListener('click', resetProgress);
            document.getElementById('save-btn').addEventListener('click', saveProgress);
        }

        // Iniciar la aplicación cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>